	# Include jQuery library
page.includeJSlibs {
	jquery = http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js
	jquery.external = 1

	egovapi_selector = EXT:egovapi/Resources/Public/JavaScript/selector.js
}

plugin.tx_egovapi_pi1 {
	eCHlanguageID.cObject = TEXT
	eCHlanguageID.cObject.data = GP:language

	eCHcommunityID.cObject = TEXT
	eCHcommunityID.cObject.data = GP:community

	organizationID.cObject = TEXT
	organizationID.cObject.data = GP:organization

	wsdl              = {$plugin.tx_egovapi.wsdl}
	cacheLifetime     =
	useFluid          = {$plugin.tx_egovapi.useFluid}
	showRenderTime    = 1
	enableDebug       = {$plugin.tx_egovapi.enableDebug}
	dynamicConfig     = 1

		# Deprecated: Strip HTML tags from many web service information block. Beware: Eventually this won't be configurable anymore and will always be active.
	stripTags         = 1

	includeCHServices = 1

	displayMode = SINGLE
	displayLevels = SERVICE
	level = SERVICE

		# Comma-separated list of services to show
	services.cObject = TEXT
	services.cObject.data = GP:service

	#displayBlocks.service.cObject = TEXT
	#displayBlocks.service.cObject.data = GP:blocks

	displayBlocks.service = LEVEL_INFORMATION,GENERAL_INFORMATION,PREREQUISITES,PROCEDURE,FORMS,DOCUMENTS_REQUIRED,SERVICE_PROVIDED,FEE,LEGAL_REGULATION,DOCUMENTS_OTHER,REMARKS,APPROVAL,CONTACT

	templates {
		single {
			service.fluid.file  = EXT:egovapi/Resources/Private/Templates/Fluid/Service/Single.html
			service.standard    = EXT:egovapi/Resources/Private/Templates/Standard/Service.html
		}
	}

		# version is only available when dynamicConfig = 1
	version.cObject = TEXT
	version.cObject.data = GP:version
}

plugin.tx_egovapi_pi2 {
	wsdl              = {$plugin.tx_egovapi.wsdl}
	cacheLifetime     =
	enableDebug       = {$plugin.tx_egovapi.enableDebug}
	includeCHServices = 1

	template          = EXT:egovapi/Resources/Private/Templates/Pi2/form.html

		# Configuration for generated URI's (properties of typolink)
	parametrizedUrl {
		parameters.serviceId = service
		parameters.version = version

		typolink {
			parameter = {$plugin.tx_egovapi.targets.single.service}
			additionalParams.cObject = COA
			additionalParams.cObject {
				1 = TEXT
				1.data = GP:language
				1.wrap = &language=|

				2 = TEXT
				2.data = GP:community
				2.wrap = &community=|

				3 = TEXT
				3.data = GP:organization
				3.wrap = &organization=|

				4 = TEXT
				4.data = GP:service
				4.ifEmpty = __SERVICE_ID__
				4.wrap = &service=|

				5 = TEXT
				5 {
					data = GP:version
					ifEmpty = __VERSION__
					override < .ifEmpty
					override.if.isFalse.data = GP:service
					wrap = &version=|
				}

				6 = TEXT
				6.data = GP:blocks
				6.wrap = &blocks=|
			}
			forceAbsoluteUrl = 1
			returnLast = url
		}
	}
}

### SVN id ###
# $Id$