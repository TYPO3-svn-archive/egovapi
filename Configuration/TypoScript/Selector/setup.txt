	# Include jQuery library
page.includeJSlibs {
	jquery = http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js
	jquery.external = 1

	egovapi_selector = EXT:egovapi/Resources/Public/JavaScript/selector.js
}

plugin.tx_egovapi_pi1 {
	eCHlanguageID.cObject = TEXT
	eCHlanguageID.cObject.data = GP:language

	eCHcommunityID.cObject = TEXT
	eCHcommunityID.cObject.data = GP:community

	organizationID.cObject = TEXT
	organizationID.cObject.data = GP:organization

	wsdl              = {$plugin.tx_egovapi.wsdl}
	cacheLifetime     =
	useFluid          = {$plugin.tx_egovapi.useFluid}
	showRenderTime    = 1
	enableDebug       = {$plugin.tx_egovapi.enableDebug}
	dynamicConfig     = 1

		# Deprecated: Strip HTML tags from many web service information block. Beware: Eventually this won't be configurable anymore and will always be active.
	stripTags         = 1

	includeCHServices = 1

	displayMode = SINGLE
	displayLevels = SERVICE
	level = SERVICE

		# Comma-separated list of services to show
	services.cObject = TEXT
	services.cObject.data = GP:service

	displayBlocks.service.cObject = TEXT
	displayBlocks.service.cObject.data = GP:blocks

	templates {
		single {
			service.fluid.file  = EXT:egovapi/Resources/Private/Templates/Fluid/Service/Single.html
			service.standard    = EXT:egovapi/Resources/Private/Templates/Standard/Service.html
		}
	}

		# version is only available when dynamicConfig = 1
	version.cObject = TEXT
	version.cObject.data = GP:version
}

temp.parametrizedUrl = TEXT
temp.parametrizedUrl {
	typolink {
		parameter = {$plugin.tx_egovapi.targets.single.service}
		additionalParams.cObject = COA
		additionalParams.cObject {
			10 = TEXT
			10.data = GP:language
			10.wrap = &language=|

			20 = TEXT
			20.data = GP:community
			20.wrap = &community=|

			30 = TEXT
			30.data = GP:organization
			30.wrap = &organization=|

			40 = TEXT
			40.field = id
			40.wrap = &service=|

			50 = TEXT
			50.field = versionId
			50.wrap = &version=|

			60 = TEXT
			60.data = GP:blocks
			60.wrap = &blocks=|
		}
		returnLast = url
		forceAbsoluteUrl = 1
	}
}

plugin.tx_egovapi_pi2 {
	wsdl              = {$plugin.tx_egovapi.wsdl}
	cacheLifetime     =
	enableDebug       = {$plugin.tx_egovapi.enableDebug}
	includeCHServices = 1

	template          = EXT:egovapi/Resources/Private/Templates/Pi2/form.html

	service = TEXT
	service.data = GP:service
	version = TEXT
	version.data = GP:version

		# Configuration for generated URI's (properties of typolink)
	parametrizedUrl = COA
	parametrizedUrl {
		10 = TEXT
		10.field = name

		20 = TEXT
		20.field = versionId
		20.noTrimWrap = | (|)<br />

		30 = TEXT
		30.typolink.parameter.cObject < temp.parametrizedUrl
		30.typolink.target = _blank
	}
}

### SVN id ###
# $Id$